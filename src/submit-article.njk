---
layout: layout.njk
title: "Submit an Writing Idea"
---

<main class="pt-24 pb-12">
  <div class="max-w-3xl mx-auto px-4">

    {% if "success=true" in page.url %}
    <div class="mb-6 p-4 rounded-lg bg-emerald-700/40 border border-emerald-600 text-emerald-200 flex items-center gap-3" data-success-banner>
      <i data-lucide="check-circle" class="w-5 h-5"></i>
      <span>Your submission was received successfully. Thank you for contributing to the ZFordDev Knowledge Library.</span>
    </div>
    {% endif %}

    <h1 class="text-4xl font-bold text-white mb-6">Submit an Writing Idea</h1>
    <p class="text-slate-400 leading-relaxed mb-8">
      Have something worth adding to the ZFordDev Knowledge Library?
      Knowledge is power — and we’re always expanding.
      Share your idea below and help shape our growing ecosystem.
    </p>

    <div class="rounded-xl bg-slate-900/60 border border-slate-800 shadow-xl p-8">
      <form action="https://formspree.io/f/xnjapvrl?redirect=https://zford.dev/submit-writing/?success=true"
            method="POST"
            enctype="multipart/form-data"
            class="space-y-8">

        <!-- NAME -->
        <div>
          <label class="block text-slate-300 mb-1">Your Name</label>
          <input type="text" name="name" required
                 class="w-full px-4 py-2 rounded-lg bg-slate-800 border border-slate-700 text-slate-200">
        </div>

        <!-- EMAIL -->
        <div>
          <label class="block text-slate-300 mb-1">Email</label>
          <input type="email" name="email" required
                 class="w-full px-4 py-2 rounded-lg bg-slate-800 border border-slate-700 text-slate-200">
        </div>

        <!-- CATEGORY -->
        <div>
          <label class="block text-slate-300 mb-1">Category</label>
          <select name="category" required
                  class="w-full px-4 py-2 rounded-lg bg-slate-800 border border-slate-700 text-slate-200">
            <option value="">Select a category</option>
            <option value="architecture">Architecture</option>
            <option value="dev-tools">Developer Tools</option>
            <option value="systems">Systems & Infrastructure</option>
            <option value="webdev">Web Development</option>
            <option value="guides">Guides & Tutorials</option>
            <option value="other">Other</option>
          </select>
        </div>

        <!-- Writing IDEA -->
        <div>
          <label class="block text-slate-300 mb-1">Writing Idea</label>
          <textarea name="message" rows="6" required
                    class="w-full px-4 py-2 rounded-lg bg-slate-800 border border-slate-700 text-slate-200"></textarea>
        </div>

        <!-- MARKDOWN UPLOAD -->
        <div>
          <label class="block text-slate-300 mb-2">Attach Markdown File (optional)</label>

          <div class="rounded-lg bg-slate-800 border border-slate-700 p-4">
            <input id="mdUpload" type="file" name="attachment" accept=".md"
                   class="block w-full text-slate-300 file:bg-slate-700 file:border-0 file:px-4 file:py-2 file:rounded-md file:text-slate-200 file:mr-4">
            <p id="mdFilename" class="text-xs text-slate-500 mt-2"></p>
            <p id="mdError" class="text-xs text-red-400 mt-1 hidden">File too large. Max size: 2MB.</p>
          </div>
        </div>

        <!-- IMAGE UPLOAD -->
        <div>
          <label class="block text-slate-300 mb-2">Attach Images (optional)</label>

          <div class="rounded-lg bg-slate-800 border border-slate-700 p-4">
            <input id="imgUpload" type="file" name="images" accept="image/*"
                   class="block w-full text-slate-300 file:bg-slate-700 file:border-0 file:px-4 file:py-2 file:rounded-md file:text-slate-200 file:mr-4">
            <p id="imgFilename" class="text-xs text-slate-500 mt-2"></p>
            <p id="imgError" class="text-xs text-red-400 mt-1 hidden">Image too large. Max size: 5MB.</p>
          </div>
        </div>

        <!-- TERMS -->
        <div class="bg-slate-800/50 border border-slate-700 rounded-lg p-4 text-slate-400 text-sm leading-relaxed">
          <p>
            By submitting, you agree that your content may be edited for clarity, formatting, and consistency.
            Full credit will always be given for accepted contributions.
          </p>
        </div>

        <!-- SUBMIT BUTTON -->
        <button type="submit"
                class="px-6 py-3 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-500 transition flex items-center gap-2">
          <i data-lucide="send" class="w-5 h-5"></i>
          Submit Idea
        </button>

      </form>
    </div>

  </div>
</main>

<script>
  lucide.createIcons();

  // Markdown file preview + size check
  const mdUpload = document.getElementById('mdUpload');
  const mdFilename = document.getElementById('mdFilename');
  const mdError = document.getElementById('mdError');

  mdUpload.addEventListener('change', () => {
    const file = mdUpload.files[0];
    if (!file) return;

    mdFilename.textContent = "Selected: " + file.name;

    if (file.size > 2 * 1024 * 1024) { // 2MB
      mdError.classList.remove('hidden');
    } else {
      mdError.classList.add('hidden');
    }
  });

  // Image file preview + size check
  const imgUpload = document.getElementById('imgUpload');
  const imgFilename = document.getElementById('imgFilename');
  const imgError = document.getElementById('imgError');

  imgUpload.addEventListener('change', () => {
    const file = imgUpload.files[0];
    if (!file) return;

    imgFilename.textContent = "Selected: " + file.name;

    if (file.size > 5 * 1024 * 1024) { // 5MB
      imgError.classList.remove('hidden');
    } else {
      imgError.classList.add('hidden');
    }
  });

  // Auto-scroll to success banner
  if (window.location.search.includes("success=true")) {
    window.scrollTo({ top: 0, behavior: "smooth" });
  }
</script>