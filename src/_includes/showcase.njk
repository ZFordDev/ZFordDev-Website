<section id="showcase" class="py-24 bg-slate-900 relative">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

        <!-- Header -->
        <div class="flex justify-between items-end mb-12">
            <div>
                <h2 class="text-3xl font-bold text-white">Core Projects</h2>
                <p class="mt-2 text-slate-400">The primary systems powering ZFordDev.</p>
            </div>

            <div class="flex gap-2">
                <button id="prevBtn" class="p-2 rounded-full border border-slate-700 hover:bg-slate-800 text-slate-300 transition-colors">
                    <i data-lucide="chevron-left" class="w-6 h-6"></i>
                </button>
                <button id="nextBtn" class="p-2 rounded-full border border-slate-700 hover:bg-slate-800 text-slate-300 transition-colors">
                    <i data-lucide="chevron-right" class="w-6 h-6"></i>
                </button>
            </div>
        </div>

        <!-- Carousel -->
        <div id="carousel" class="flex gap-6 overflow-x-auto no-scrollbar snap-x snap-mandatory pb-8">

            {% for a in projects %}
                {% if a.show %}

                <a href="/products/{{ a.slug }}/" class="min-w-[85vw] md:min-w-[400px] snap-center block group">
                    <div class="glass-panel rounded-2xl p-1 h-full hover:border-{{ a.color }}-500/50 transition-colors duration-300">

                        <div class="bg-slate-950 rounded-xl overflow-hidden h-full flex flex-col relative">

                            <!-- Image -->
                            <div class="h-48 bg-slate-900 rounded-t-xl overflow-hidden relative group-hover:scale-105 transition-transform duration-500">
                                {% if a.image %}
                                    <img src="{{ a.image }}" alt="{{ a.title }} Preview" class="w-full h-full object-cover opacity-90">
                                {% else %}
                                    <div class="w-full h-full flex items-center justify-center text-slate-400">
                                        <i data-lucide="image" class="w-12 h-12"></i>
                                    </div>
                                {% endif %}
                                <div class="absolute inset-0 bg-black/20"></div>
                            </div>

                            <!-- Content -->
                            <div class="p-6 flex flex-col flex-grow">

                                <!-- Badges -->
                                <div class="flex items-center gap-2 mb-3 not-prose">
                                    {% for badge in a.badges %}
                                        <span class="px-2.5 py-1 rounded-full text-xs font-medium 
                                            bg-{{ a.color }}-600/15 
                                            text-{{ a.color }}-400 
                                            ring-1 ring-inset ring-{{ a.color }}-600/20">
                                            {{ badge }}
                                        </span>
                                    {% endfor %}
                                </div>

                                <!-- Title -->
                                <h3 class="text-xl font-bold text-white mb-2 group-hover:text-{{ a.color }}-400 transition-colors">
                                    {{ a.title }}
                                </h3>

                                <!-- Description -->
                                <p class="text-slate-400 text-sm mb-6 flex-grow">
                                    {{ a.description }}
                                </p>

                                <!-- CTA -->
                                <span class="text-{{ a.color }}-400 text-sm font-semibold flex items-center gap-1 group-hover:gap-2 transition-all">
                                    Explore Artifact <i data-lucide="arrow-right" class="w-4 h-4"></i>
                                </span>

                            </div>
                        </div>
                    </div>
                </a>

                {% endif %}
            {% endfor %}

        </div>
    </div>
</section>

<script>
// Carousel Logic
const carousel = document.getElementById('carousel');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const scrollAmount = 420;

if (nextBtn) nextBtn.addEventListener('click', () => {
    carousel.scrollBy({ left: scrollAmount, behavior: 'smooth' });
});

if (prevBtn) prevBtn.addEventListener('click', () => {
    carousel.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
});
</script>